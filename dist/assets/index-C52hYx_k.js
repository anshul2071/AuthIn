(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const f=()=>{document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("signup-form"),e=document.getElementById("login-form"),a=document.getElementById("show-login"),s=document.getElementById("show-register");if(localStorage.getItem("isLoggedIn")==="true"){t&&(t.style.display="none"),e&&(e.style.display="none");return}!t||!e||(t.style.display="block",e.style.display="none",a&&a.addEventListener("click",o=>{o.preventDefault(),t.classList.add("fade-out"),setTimeout(()=>{t.style.display="none",e.style.display="block",e.classList.add("fade-in"),t.classList.remove("fade-out")},300)}),s&&s.addEventListener("click",o=>{o.preventDefault(),e.classList.add("fade-out"),setTimeout(()=>{e.style.display="none",t.style.display="block",t.classList.add("fade-in"),e.classList.remove("fade-out")},300)}))})},p=()=>{const t="https://authin-8wef.onrender.com",e=document.getElementById("login-form");e&&e.addEventListener("submit",async a=>{a.preventDefault();const s=e.querySelector('input[type="email"]').value,r=e.querySelector('input[type="password"]').value;try{const n=await(await fetch(`${t}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:r})})).json();n.success?(alert("Login Successful!"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(n.user)),window.location.href=n.redirectUrl):alert(n.message)}catch(o){console.error("Error logging in:",o),alert("An error occurred. Please try again.")}})},y=()=>{const t="https://authin-8wef.onrender.com",e=document.getElementById("signup-form");e&&e.addEventListener("submit",async a=>{a.preventDefault();const s=e.querySelector('input[placeholder="FirstName"]').value,r=e.querySelector('input[placeholder="LastName"]').value,o=e.querySelector('input[type="email"]').value,n=e.querySelector('input[type="password"]').value,c=e.querySelectorAll('input[type="password"]')[1].value,d=e.querySelector("select").value,u=e.querySelector('input[type="number"]').value,m=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/,g=/^(?=.*[A-Z])(?=.*\d)[A-Za-z\d@$#!%*?&]{8,}$/;if(!m.test(o)){alert("Invalid email format.");return}if(!g.test(n)){alert("Password must be at least 8 characters, include one uppercase letter, and one number.");return}if(n!==c){alert("Passwords do not match.");return}try{const i=await(await fetch(`${t}/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:s,lastName:r,email:o,password:n,gender:d,age:u})})).json();i.success?(alert("Registration Successful!"),window.location.href="/"):alert(i.message)}catch(l){console.error("Error during registration:",l),alert("An error occurred. Please try again later.")}})};function h(){const t=document.createElement("nav");t.classList.add("navbar"),t.style.display="none",t.innerHTML=`
      <div class="nav-container">
        <h2 class="logo"> Anshul's Website</h2>
        <ul class="nav-links">
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Contact</a></li>
          <li><a href="#" id="logout">Logout</a></li>
        </ul>
      </div>
    `,document.body.prepend(t);const e=document.getElementById("logout");e&&e.addEventListener("click",()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"),t.style.display="none",window.location.href="index.html"}),localStorage.getItem("isLoggedIn")==="true"&&(t.style.display="block")}f();y();p();h();
